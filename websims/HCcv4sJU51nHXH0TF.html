<html><head><base href="https://ulayamanote.tokyo"/>
<meta charset="UTF-8">
<title>ウラ山手線 - ULA YAMANOTE - Psychedelic Train Journey</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

  body {
    margin: 0;
    background: #000;
    font-family: 'Press Start 2P', monospace;
    color: #0f0;
    overflow: hidden;
  }

  .container {
    width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: repeating-linear-gradient(
      0deg,
      #000 0px,
      #000 2px,
      #0f0 2px,
      #0f0 4px
    );
    animation: scroll 20s linear infinite;
  }

  .train-container {
    position: relative;
    width: 100%;
    height: 200px;
    margin-top: 20vh;
    display: flex;
    justify-content: center;
    gap: 5px;
  }

  .train {
    position: relative;
    width: 300px;
    height: 100px;
    filter: drop-shadow(0 0 10px #0f0);
    animation: floatTrain 2s infinite ease-in-out;
  }

  .station-name {
    font-size: 24px;
    text-shadow: 0 0 10px #0f0;
    margin: 20px;
    animation: blink 1s infinite;
  }

  .japanese-text {
    font-size: 32px;
    color: #ff0;
    text-shadow: 0 0 15px #f0f;
    position: fixed;
    top: 20px;
    animation: rotateText 10s linear infinite;
  }

  .announcement {
    position: fixed;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 16px;
    text-align: center;
    color: #ff0;
    text-shadow: 0 0 10px #ff0;
    animation: glitch 1s infinite, shake 0.5s infinite;
    white-space: nowrap;
    z-index: 1000;
  }

  .location-marker {
    position: absolute;
    width: 20px;
    height: 20px;
    background: #f00;
    border-radius: 50%;
    animation: pulse 2s infinite;
  }

  .kanji-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    opacity: 0.1;
    font-size: 50px;
    color: #0f0;
    overflow: hidden;
    z-index: 2;
  }

  @keyframes floatTrain {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  @keyframes rotateText {
    0% { transform: rotate(0deg) translateX(50px) rotate(0deg); }
    100% { transform: rotate(360deg) translateX(50px) rotate(-360deg); }
  }

  @keyframes scroll {
    0% { background-position: 0 0; }
    100% { background-position: 0 100%; }
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  @keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.5); opacity: 0.5; }
    100% { transform: scale(1); opacity: 1; }
  }

  @keyframes glitch {
    0% { clip-path: inset(0 0 0 0); }
    20% { clip-path: inset(20% 0 0 0); }
    40% { clip-path: inset(0 15% 0 0); }
    60% { clip-path: inset(0 0 10% 0); }
    80% { clip-path: inset(0 0 0 25%); }
    100% { clip-path: inset(0 0 0 0); }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    25% { transform: translateX(-52%) translateY(-2px); }
    75% { transform: translateX(-48%) translateY(2px); }
  }

  .pixel-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      90deg,
      rgba(0,255,0,0.1) 0px,
      rgba(0,255,0,0.1) 1px,
      transparent 1px,
      transparent 3px
    );
    pointer-events: none;
  }

  .carriage {
    display: inline-block;
  }

  .play-button {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #0f0;
    border: 4px solid #0f0;
    border-radius: 50%;
    width: 80px;
    height: 80px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: buttonPulse 2s infinite;
    z-index: 1000;
    font-family: 'Press Start 2P', monospace;
    font-size: 12px;
    color: #000;
    text-align: center;
    box-shadow: 0 0 20px #0f0;
    transition: all 0.3s ease;
  }

  .play-button:hover {
    transform: scale(1.1);
    box-shadow: 0 0 30px #0f0;
  }

  @keyframes buttonPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
</style>
</head>
<body>
<div class="container">
  <div class="japanese-text">ウラ山手線</div>
  <div class="station-name">山手線 - YAMANOTE LINE</div>
  <button class="play-button" id="playButton">▶ 2024<br>PLAY</button>
  <audio id="stationSound" preload="auto">
    <source src="https://github.com/pollinations/ula-yamanote.tokyo/raw/refs/heads/main/convenience%20store%20-%20shabu%20shabu%20-%20please%20be%20careful.mp3" type="audio/mpeg">
  </audio>
  <div class="train-container" id="trainContainer">
    <div class="carriage">
      <svg class="train" viewBox="0 0 300 100">
        <rect x="25" y="20" width="250" height="60" fill="#2E8B57" rx="10"/>
        <rect x="20" y="10" width="260" height="20" fill="#3CB371" rx="5"/>
        <rect x="35" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="85" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="135" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="185" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="235" y="30" width="40" height="30" fill="#98FB98"/>
        <circle cx="50" cy="85" r="10" fill="#333"/>
        <circle cx="150" cy="85" r="10" fill="#333"/>
        <circle cx="250" cy="85" r="10" fill="#333"/>
      </svg>
    </div>
    <div class="carriage">
      <svg class="train" viewBox="0 0 300 100">
        <rect x="25" y="20" width="250" height="60" fill="#2E8B57" rx="10"/>
        <rect x="20" y="10" width="260" height="20" fill="#3CB371" rx="5"/>
        <rect x="35" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="85" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="135" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="185" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="235" y="30" width="40" height="30" fill="#98FB98"/>
        <circle cx="50" cy="85" r="10" fill="#333"/>
        <circle cx="150" cy="85" r="10" fill="#333"/>
        <circle cx="250" cy="85" r="10" fill="#333"/>
      </svg>
    </div>
    <div class="carriage">
      <svg class="train" viewBox="0 0 300 100">
        <rect x="25" y="20" width="250" height="60" fill="#2E8B57" rx="10"/>
        <rect x="20" y="10" width="260" height="20" fill="#3CB371" rx="5"/>
        <rect x="35" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="85" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="135" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="185" y="30" width="40" height="30" fill="#98FB98"/>
        <rect x="235" y="30" width="40" height="30" fill="#98FB98"/>
        <circle cx="50" cy="85" r="10" fill="#333"/>
        <circle cx="150" cy="85" r="10" fill="#333"/>
        <circle cx="250" cy="85" r="10" fill="#333"/>
      </svg>
    </div>
    <div class="location-marker" id="userLocation"></div>
  </div>
</div>
<div class="announcement">ULA YAMANOTE 発売 @ トラフィック六本木 - 12月7日</div>
<div class="kanji-overlay" id="kanjiOverlay"></div>
<div class="pixel-overlay"></div>

<script>
let currentPosition = 0;
const trainContainerWidth = 915;

function updateLocation() {
  const userMarker = document.getElementById('userLocation');
  const trainContainer = document.getElementById('trainContainer');
  const trainContainerRect = trainContainer.getBoundingClientRect();
  
  currentPosition = (currentPosition + 1) % trainContainerWidth;
  
  userMarker.style.left = `${trainContainerRect.left + currentPosition}px`;
  userMarker.style.top = `${trainContainerRect.top + 50}px`;
}

setInterval(updateLocation, 100);

function updateColors() {
  const hue = (Date.now() / 50) % 360;
  document.documentElement.style.setProperty('--primary-color', `hsl(${hue}, 100%, 50%)`);
}

setInterval(updateColors, 50);

const kanji = '山手線電車音楽体験';
const kanjiOverlay = document.getElementById('kanjiOverlay');

function createKanjiBackground() {
  let html = '';
  for(let i = 0; i < 100; i++) {
    const randomKanji = kanji[Math.floor(Math.random() * kanji.length)];
    const x = Math.random() * 100;
    const y = Math.random() * 100;
    html += `<div style="position: absolute; left: ${x}vw; top: ${y}vh;">${randomKanji}</div>`;
  }
  kanjiOverlay.innerHTML = html;
}

createKanjiBackground();
setInterval(createKanjiBackground, 5000);

const playButton = document.getElementById('playButton');
const audio = document.getElementById('stationSound');

playButton.addEventListener('click', () => {
  if (audio.paused) {
    audio.play();
    playButton.style.background = '#ff0';
  } else {
    audio.pause();
    audio.currentTime = 0;
    playButton.style.background = '#0f0';
  }
});

audio.addEventListener('ended', () => {
  playButton.style.background = '#0f0';
});
</script>
</body></html>