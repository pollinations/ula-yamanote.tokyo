<html><head><base href="https://ulayamanote.tokyo/" />
<meta charset="utf-8">
<title>ULA YAMANOTE TOKYO - Psychedelic Train Experience</title>
<style>
:root {
  --neon-pink: #ff61ef;
  --neon-blue: #61efff;
  --neon-green: #61ff8f;
}

body {
  margin: 0;
  padding: 0;
  background: #000;
  color: var(--neon-pink);
  font-family: 'Press Start 2P', monospace;
  overflow: hidden;
}

.train-container {
  position: relative;
  width: 100vw;
  height: 100vh;
  perspective: 1000px;
}

.announcement {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 16px;
  text-align: center;
  z-index: 1000;
  text-shadow: 2px 2px var(--neon-blue);
  animation: glitchAnnouncement 2s infinite;
  background: rgba(0,0,0,0.8);
  padding: 20px;
  border: 2px solid var(--neon-pink);
  white-space: nowrap;
}

@keyframes glitchAnnouncement {
  0% { transform: translate(-50%, -50%) skew(0deg); }
  10% { transform: translate(-52%, -48%) skew(20deg); filter: hue-rotate(90deg); }
  20% { transform: translate(-48%, -52%) skew(-20deg); filter: hue-rotate(180deg); }
  30% { transform: translate(-50%, -50%) skew(0deg); }
  40% { transform: translate(-51%, -49%) skew(5deg); filter: hue-rotate(270deg); }
  50% { transform: translate(-49%, -51%) skew(-5deg); }
  60% { transform: translate(-50%, -50%) skew(0deg); filter: hue-rotate(360deg); }
  100% { transform: translate(-50%, -50%) skew(0deg); }
}

.train-tunnel {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  animation: tunnelRotate 20s linear infinite;
}

.train-map {
  position: fixed;
  top: 20px;
  right: 20px;
  width: 200px;
  height: 200px;
  border: 2px solid var(--neon-pink);
  border-radius: 50%;
  padding: 10px;
  background: rgba(0,0,0,0.8);
}

.player-location {
  position: absolute;
  width: 10px;
  height: 10px;
  background: var(--neon-green);
  border-radius: 50%;
  box-shadow: 0 0 10px var(--neon-green);
  animation: blink 1s infinite;
}

@keyframes tunnelRotate {
  from { transform: rotateZ(0deg); }
  to { transform: rotateZ(360deg); }
}

@keyframes blink {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

.train-cars {
  position: absolute;
  bottom: 50px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 5px;
}

.pixel-train {
  filter: drop-shadow(0 0 10px var(--neon-blue));
  animation: trainHover 2s infinite ease-in-out;
}

@keyframes trainHover {
  0% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
  100% { transform: translateY(0); }
}

.station-name {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 24px;
  text-shadow: 0 0 10px var(--neon-pink);
  animation: glitch 1s infinite;
}

@keyframes glitch {
  0% { transform: translateX(-50%) skew(0deg); }
  20% { transform: translateX(-52%) skew(10deg); }
  40% { transform: translateX(-48%) skew(-10deg); }
  60% { transform: translateX(-50%) skew(0deg); }
  100% { transform: translateX(-50%) skew(0deg); }
}
</style>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>

<audio id="stationAudio" loop>
  <source src="https://github.com/pollinations/ula-yamanote.tokyo/raw/refs/heads/main/convenience%20store%20-%20shabu%20shabu%20-%20please%20be%20careful.mp3" type="audio/mpeg">
</audio>

<div class="train-container">
  <div class="announcement">
    ULA YAMANOTE<br>
    LAUNCHING DEC 7TH<br>
    AT TRAFFIC CLUB TOKYO<br>
    六本木 ROPPONGI
  </div>

  <div class="train-tunnel" id="tunnel"></div>
  
  <div class="train-cars">
    <!-- Lead Car -->
    <svg class="pixel-train" width="200" height="80" viewBox="0 0 200 80">
      <rect x="20" y="20" width="160" height="40" fill="var(--neon-blue)" />
      <rect x="10" y="10" width="180" height="10" fill="var(--neon-pink)" />
      <path d="M10 20 L20 60 L180 60 L190 20 Z" fill="var(--neon-blue)" />
      <rect x="40" y="30" width="20" height="20" fill="#000" />
      <rect x="80" y="30" width="20" height="20" fill="#000" />
      <rect x="120" y="30" width="20" height="20" fill="#000" />
    </svg>
    
    <!-- Middle Car -->
    <svg class="pixel-train" width="200" height="80" viewBox="0 0 200 80">
      <rect x="20" y="20" width="160" height="40" fill="var(--neon-blue)" />
      <rect x="10" y="10" width="180" height="10" fill="var(--neon-pink)" />
      <rect x="40" y="30" width="20" height="20" fill="#000" />
      <rect x="80" y="30" width="20" height="20" fill="#000" />
      <rect x="120" y="30" width="20" height="20" fill="#000" />
    </svg>
    
    <!-- Tail Car -->
    <svg class="pixel-train" width="200" height="80" viewBox="0 0 200 80">
      <rect x="20" y="20" width="160" height="40" fill="var(--neon-blue)" />
      <rect x="10" y="10" width="180" height="10" fill="var(--neon-pink)" />
      <path d="M10 20 L20 60 L180 60 L190 20 Z" fill="var(--neon-blue)" />
      <rect x="40" y="30" width="20" height="20" fill="#000" />
      <rect x="80" y="30" width="20" height="20" fill="#000" />
      <rect x="120" y="30" width="20" height="20" fill="#000" />
    </svg>
  </div>

  <div class="train-map" id="trainMap">
    <div class="player-location" id="playerLocation"></div>
  </div>

  <div class="station-name" id="stationName">渋谷 SHIBUYA</div>
</div>

<script>
const tunnel = document.getElementById('tunnel');
const playerLocation = document.getElementById('playerLocation');
const stationName = document.getElementById('stationName');
const audio = document.getElementById('stationAudio');

// Create tunnel segments
for (let i = 0; i < 20; i++) {
  const segment = document.createElement('div');
  segment.style.position = 'absolute';
  segment.style.width = '100%';
  segment.style.height = '100%';
  segment.style.border = `2px solid var(--neon-pink)`;
  segment.style.transform = `translateZ(${i * -100}px)`;
  tunnel.appendChild(segment);
}

// Yamanote Line stations
const stations = [
  "渋谷 SHIBUYA", "原宿 HARAJUKU", "代々木 YOYOGI", "新宿 SHINJUKU",
  "新大久保 SHIN-OKUBO", "高田馬場 TAKADANOBABA", "目白 MEJIRO",
  "池袋 IKEBUKURO", "大塚 OTSUKA", "巣鴨 SUGAMO",
  "駒込 KOMAGOME", "田端 TABATA", "西日暮里 NISHI-NIPPORI",
  "日暮里 NIPPORI", "鶯谷 UGUISUDANI", "上野 UENO",
  "御徒町 OKACHIMACHI", "秋葉原 AKIHABARA", "神田 KANDA",
  "東京 TOKYO", "有楽町 YURAKUCHO", "新橋 SHIMBASHI",
  "浜松町 HAMAMATSUCHO", "田町 TAMACHI", "品川 SHINAGAWA",
  "大崎 OSAKI", "五反田 GOTANDA", "目黒 MEGURO",
  "恵比寿 EBISU"
];

let currentStationIndex = 0;

// Add audio autoplay with user interaction
document.addEventListener('click', () => {
  audio.play().catch(e => console.log("Audio play failed:", e));
});

// Simulate train movement
setInterval(() => {
  currentStationIndex = (currentStationIndex + 1) % stations.length;
  stationName.textContent = stations[currentStationIndex];
  
  // Update player location on the circular map
  const angle = (currentStationIndex / stations.length) * 2 * Math.PI;
  const radius = 80;
  const x = 100 + radius * Math.cos(angle);
  const y = 100 + radius * Math.sin(angle);
  
  playerLocation.style.left = `${x}px`;
  playerLocation.style.top = `${y}px`;
  
  // Ensure audio is playing
  if (audio.paused) {
    audio.play().catch(e => console.log("Audio play failed:", e));
  }
}, 3000);

// Add psychedelic color changing
setInterval(() => {
  document.documentElement.style.setProperty('--neon-pink', 
    `hsl(${Math.random() * 360}, 100%, 70%)`);
  document.documentElement.style.setProperty('--neon-blue',
    `hsl(${Math.random() * 360}, 100%, 70%)`);
}, 1000);

// Simulate GPS location (In a real implementation, this would use the Geolocation API)
if ("geolocation" in navigator) {
  navigator.geolocation.watchPosition((position) => {
    console.log("Location updated:", position.coords);
  });
}
</script>
</body></html>